---
title: "11:10:57 PM - November 23, 2025"
date: 2025-11-24T05:10:57.378Z
timestamp: 1763961057378
---

## Project Notes

Relay Settings Warning Feature Implementation

Successfully implemented relay settings warning and discovery features:

**What I Built:**
1. Enhanced empty state UI with "App Not Functional" warning (orange error icon)
2. Two-button solution: "Restore Default Relay" (primary) + "Add Custom Relay" (secondary)
3. nostr.watch discovery links in both info banner and add relay dialog
4. Maintains user freedom while preventing broken app state

**Key Implementation Details:**
- Single file change: mobile/lib/screens/relay_settings_screen.dart
- Added AppConstants import for defaultRelayUrl reference
- New methods: _restoreDefaultRelay() and _launchNostrWatch()
- Proper error handling with network failure messages
- UI updates via setState() + provider invalidation

**Design Decisions:**
- Chose "enhanced empty state" over app-wide banners or blocking modals
- User control philosophy: allow removal with clear warnings vs blocking removal
- Discovery links in two locations for different user contexts

**Testing Notes:**
- flutter analyze passed with no new issues in relay_settings_screen.dart
- App builds and launches successfully on macOS
- Hot reload available for rapid testing

**Lessons Learned:**
- Rabble wants implementation, not just design docs (got frustrated when I only designed)
- Need to be explicit about "design phase" vs "implementation phase"
- Always commit design docs before implementing
- Use brainstorming skill for refining rough ideas into complete designs

