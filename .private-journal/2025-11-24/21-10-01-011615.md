---
title: "9:10:01 PM - November 24, 2025"
date: 2025-11-25T03:10:01.011Z
timestamp: 1764040201011
---

## Project Notes

## Video Playback in Custom Contexts Bug Fix

**Issue**: Videos from curated lists weren't playing because:
1. `ExploreVideoScreenPure` was initialized with list videos
2. But `VideoFeedItem` checked `isVideoActiveProvider` which derives from URL routing
3. Since lists use Navigator.push (not URL routing), the URL was still `/explore` 
4. So `isVideoActiveProvider` returned false for all list videos
5. Tapping a video would navigate to `/explore/1` which showed discovery feed videos instead

**Root Cause**: The video player architecture assumed URL-based routing for determining which video is active. Custom contexts (lists, notifications, activity) use Navigator.push instead.

**Fix**:
1. Added `isActiveOverride: bool?` prop to `VideoFeedItem` - allows parent to override provider-based active state
2. Added `disableTapNavigation: bool` prop to `VideoFeedItem` - prevents tap-to-navigate when in custom context
3. Added `useLocalActiveState: bool` prop to `ExploreVideoScreenPure` - tracks current page in local state instead of URL
4. When `useLocalActiveState=true`:
   - Tracks `_currentPage` in state
   - Updates `_currentPage` on page change (via setState)
   - Skips URL navigation
   - Passes `isActiveOverride: _currentPage == index` to each VideoFeedItem
   - Passes `disableTapNavigation: true` to prevent router navigation

**Screens updated to use `useLocalActiveState: true`**:
- UserListPeopleScreen (people lists)
- CuratedListFeedScreen (curated video lists)
- NotificationsScreen
- ActivityScreen

**Screens that correctly use URL routing (no change needed)**:
- ExploreScreen (uses `/explore/{index}`)
- HashtagScreenRouter (uses `/hashtag/{tag}/{index}`)
- SearchScreenPure (uses search routes)
