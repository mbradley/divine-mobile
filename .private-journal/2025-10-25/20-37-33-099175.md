---
title: "8:37:33 PM - October 25, 2025"
date: 2025-10-25T07:37:33.099Z
timestamp: 1761377853099
---

## Project Notes

Home Feed Reset Bug - Event-Based Routing Solution:

**Root Cause Confirmed:**
1. HomeFeed watches socialProvider (line 118 in home_feed_provider.dart)
2. SocialProvider initializes (0→15 followers)
3. HomeFeed rebuilds and reorders videos (seen/unseen sorting)
4. HomeScreenRouter tracks index, not video ID
5. Same index now points to different video → feed jumps

**Solution Architecture:**
Event-based routing where URL contains video event ID, not position:
- `/home/nevent1qqsxyz...` instead of `/home/5`
- Feed provider maintains video order
- Router finds event in feed to determine index
- New videos append below current position

**Files Modified:**
- lib/router/route_utils.dart - Added eventId support with backward compatibility
- test/router/event_based_routing_test.dart - 18 new tests for event routing

**Testing Status:**
✅ All 34 route tests passing (16 legacy + 18 new)
✅ Backward compatibility maintained
✅ TDD process followed correctly
