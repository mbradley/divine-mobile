---
title: "3:20:21 PM - November 27, 2025"
date: 2025-11-27T02:20:21.404Z
timestamp: 1764210021404
---

## Project Notes

BLOSSOM 401 UPLOAD FIX - ROOT CAUSE FOUND AND FIXED:

Problem: Upload to blossom.divine.video was returning 401 unauthorized despite correct event signing.

Root cause: The Authorization header was using standard base64 encoding (`base64.encode`) instead of URL-safe base64 encoding (`base64Url.encode`).

Standard base64 uses `+` and `/` characters which can cause parsing issues in HTTP headers.
URL-safe base64 (base64url) uses `-` and `_` instead.

The nostr_sdk's BolssomUploader correctly uses `base64Url.encode` on line 90.

Fix applied to blossom_upload_service.dart:
- Line 263 (video upload): Changed to base64Url
- Line 510 (image upload): Changed to base64Url  
- Line 725 (bug report upload): Changed to base64Url

This follows the Blossom BUD-01 spec which expects URL-safe base64 encoding for the Authorization header.
