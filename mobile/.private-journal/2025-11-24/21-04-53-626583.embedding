{
  "embedding": [
    0.020278437063097954,
    -0.05987551063299179,
    0.032494235783815384,
    0.009340371936559677,
    0.015140809118747711,
    -0.03706406429409981,
    -0.027062999084591866,
    -0.002461271360516548,
    -0.06574435532093048,
    0.002893861150369048,
    -0.03586443141102791,
    0.035598475486040115,
    -0.07956484705209732,
    0.047897059470415115,
    0.03821347653865814,
    0.0432601161301136,
    0.005674467422068119,
    -0.07881934940814972,
    0.006868460215628147,
    0.015271051786839962,
    -0.04521751031279564,
    0.03469778969883919,
    0.06458568572998047,
    0.016615236178040504,
    0.03789112716913223,
    -0.07610815763473511,
    -0.008003083057701588,
    -0.09620421379804611,
    -0.05187924951314926,
    0.02490718476474285,
    0.06721065193414688,
    0.042358554899692535,
    -0.10524677485227585,
    -0.0764637365937233,
    0.027951952069997787,
    0.01566670835018158,
    0.0002713823923841119,
    -0.025903241708874702,
    -0.06994163244962692,
    0.020437218248844147,
    0.12260516732931137,
    -0.009149579331278801,
    -0.03163624182343483,
    0.06207519397139549,
    -0.015444209799170494,
    0.034457068890333176,
    0.0032179197296500206,
    0.02330809459090233,
    0.026109598577022552,
    0.01746533066034317,
    -0.035331204533576965,
    -0.005978809669613838,
    -0.04094391688704491,
    -0.035025157034397125,
    0.07056795805692673,
    0.047472286969423294,
    -0.0458720400929451,
    0.049133140593767166,
    0.017527958378195763,
    -0.0300735030323267,
    0.08142935484647751,
    -0.02611253224313259,
    0.00800213124603033,
    -0.07333021610975266,
    -0.035912156105041504,
    0.016135353595018387,
    0.02374264784157276,
    0.039963800460100174,
    0.0877697765827179,
    0.030290458351373672,
    0.020348547026515007,
    0.09358885884284973,
    -0.019828462973237038,
    -0.06889274716377258,
    -0.016636356711387634,
    -0.06278323382139206,
    0.002628534799441695,
    0.046223677694797516,
    0.015489913523197174,
    -0.0950973704457283,
    0.01856832206249237,
    -0.041025061160326004,
    0.000028934673537150957,
    0.029151635244488716,
    0.03712519630789757,
    0.023267919197678566,
    0.016182512044906616,
    -0.06954623013734818,
    0.02057555690407753,
    0.03880460187792778,
    0.02493302710354328,
    0.003044245997443795,
    -0.0036411210894584656,
    -0.05560871213674545,
    0.00592989893630147,
    -0.002743597375229001,
    0.01932492107152939,
    -0.008752173744142056,
    -0.0433884896337986,
    0.04564519599080086,
    -0.003514123847708106,
    0.02516433410346508,
    0.020846590399742126,
    0.06981990486383438,
    0.05701780319213867,
    0.008562575094401836,
    0.03458724543452263,
    0.01126991119235754,
    0.016386162489652634,
    0.029140418395400047,
    0.0016248782631009817,
    -0.03491229563951492,
    0.05751212686300278,
    0.013665943406522274,
    -0.025783905759453773,
    -0.03134612739086151,
    -0.06490858644247055,
    -0.029367545619606972,
    0.044795919209718704,
    0.04537082836031914,
    0.02009166218340397,
    -0.03130476549267769,
    0.09214387089014053,
    -0.013785059563815594,
    -0.022590287029743195,
    0.03978734463453293,
    0.011068402789533138,
    6.287199860982146e-33,
    0.026289045810699463,
    -0.0038938431534916162,
    -0.03739878907799721,
    0.042942170053720474,
    -0.03844688832759857,
    0.006797689013183117,
    -0.03678947687149048,
    0.03098766878247261,
    0.008452975191175938,
    -0.07834059745073318,
    0.014402675442397594,
    -0.003809251356869936,
    0.0017941201804205775,
    -0.017117898911237717,
    -0.014719437807798386,
    -0.040808696299791336,
    0.03179062902927399,
    0.03176634758710861,
    0.06522757560014725,
    0.00034884572960436344,
    0.05264897271990776,
    -0.002626389265060425,
    -0.035773806273937225,
    -0.09633786231279373,
    -0.031302955001592636,
    -0.024749206379055977,
    -0.0008463957929052413,
    -0.025562549009919167,
    -0.05123760178685188,
    -0.005858536344021559,
    0.023755839094519615,
    -0.020792260766029358,
    0.047092828899621964,
    0.012538343667984009,
    -0.044390808790922165,
    -0.0060844323597848415,
    -0.0029820643831044436,
    -0.0878479927778244,
    -0.07399493455886841,
    -0.07403752952814102,
    -0.030547797679901123,
    0.023953214287757874,
    -0.06370048969984055,
    -0.014256304129958153,
    -0.030588718131184578,
    -0.06360355764627457,
    -0.041516516357660294,
    0.0038040538784116507,
    0.02788085676729679,
    0.07295474410057068,
    -0.07709082216024399,
    -0.002015812322497368,
    -0.023959597572684288,
    -0.024737771600484848,
    -0.10051663219928741,
    -0.03199802339076996,
    -0.041278451681137085,
    -0.062492143362760544,
    -0.016126995906233788,
    -0.06656473129987717,
    -0.03197012096643448,
    0.0033944519236683846,
    -0.013713774271309376,
    -0.05356917902827263,
    0.06552804261445999,
    0.08870290964841843,
    0.0021335650235414505,
    -0.0073755281046032906,
    0.05784214287996292,
    -0.07815040647983551,
    -0.039707452058792114,
    0.03209656849503517,
    -0.011008786968886852,
    -0.0720152035355568,
    -0.017512766644358635,
    0.020904183387756348,
    -0.029747771099209785,
    -0.030836544930934906,
    -0.11257350444793701,
    -0.05324266105890274,
    0.07233785092830658,
    -0.01504940539598465,
    -0.007707658223807812,
    0.10195820778608322,
    -0.003142960136756301,
    -0.03777511417865753,
    0.08920200914144516,
    -0.10290966182947159,
    -0.055318769067525864,
    0.12202438712120056,
    0.10895778238773346,
    0.05997752770781517,
    0.05927146226167679,
    -0.007037814240902662,
    0.033472202718257904,
    -6.159344279179083e-33,
    -0.005399041343480349,
    -0.03534601256251335,
    -0.028871556743979454,
    0.050416816025972366,
    0.04321406036615372,
    -0.10475020855665207,
    0.08079884201288223,
    0.028581704944372177,
    0.05210172384977341,
    -0.05296994373202324,
    -0.04007218778133392,
    0.04432486370205879,
    0.035348836332559586,
    -0.003197263227775693,
    -0.037134550511837006,
    0.04573294147849083,
    0.08907574415206909,
    -0.0418865866959095,
    0.05751291662454605,
    -0.03649034723639488,
    -0.0020410579163581133,
    0.03943655267357826,
    0.0036935508251190186,
    0.002115307841449976,
    -0.00404878705739975,
    0.08624769002199173,
    0.053441260010004044,
    -0.0390680693089962,
    -0.059109508991241455,
    -0.14402925968170166,
    0.13367444276809692,
    0.026765605434775352,
    0.0011790900025516748,
    -0.002683402504771948,
    -0.02736268751323223,
    0.05198102071881294,
    -0.051775477826595306,
    0.09629063308238983,
    -0.02845810540020466,
    0.013274873606860638,
    0.22188791632652283,
    0.023554177954792976,
    -0.06481323391199112,
    -0.04956458881497383,
    0.003822535276412964,
    0.01904071681201458,
    -0.015818292275071144,
    0.027402937412261963,
    -0.09660184383392334,
    0.04431070387363434,
    0.07583901286125183,
    -0.006397606339305639,
    -0.015740249305963516,
    -0.008985930122435093,
    0.0317859947681427,
    0.024818528443574905,
    0.10057971626520157,
    0.006474670488387346,
    0.022545956075191498,
    0.008793892338871956,
    0.036979906260967255,
    0.001965200761333108,
    -0.08577929437160492,
    0.06805352121591568,
    0.00011763550719479099,
    -0.07709962874650955,
    0.037547674030065536,
    0.06617485731840134,
    0.1020662784576416,
    -0.03579927980899811,
    -0.058493636548519135,
    -0.008200753480196,
    0.01287428755313158,
    -0.033452846109867096,
    0.04864926636219025,
    0.009892374277114868,
    0.003033358370885253,
    -0.011087777093052864,
    0.014000384137034416,
    0.015473571605980396,
    -0.08626775443553925,
    0.0281923059374094,
    -0.02993028238415718,
    -0.10063305497169495,
    0.0670040100812912,
    -0.02324322797358036,
    -0.01632614992558956,
    0.06752484291791916,
    0.05874866992235184,
    0.05818221718072891,
    0.015550898388028145,
    -0.05620761215686798,
    -0.04438859596848488,
    0.036647550761699677,
    -0.005085945129394531,
    -5.6105477597157005e-8,
    -0.0000935066636884585,
    0.018190965056419373,
    -0.04818001762032509,
    0.10801486670970917,
    0.032689157873392105,
    -0.08196619898080826,
    0.09573905169963837,
    0.011611731722950935,
    -0.002552032470703125,
    0.044931404292583466,
    -0.0668698102235794,
    0.01967313140630722,
    -0.0720563605427742,
    -0.017779668793082237,
    0.10490784049034119,
    0.004456322640180588,
    0.04126686975359917,
    -0.11196910589933395,
    -0.12302294373512268,
    -0.02974323183298111,
    -0.08686093986034393,
    -0.02963229827582836,
    -0.13741448521614075,
    0.06058499217033386,
    -0.09259753674268723,
    -0.04725680872797966,
    0.0367521233856678,
    -0.007284700870513916,
    0.08418989926576614,
    -0.047214724123477936,
    -0.026186596602201462,
    0.011401568539440632,
    0.0153768640011549,
    -0.05603843182325363,
    -0.0742151215672493,
    0.07080691307783127,
    -0.019428066909313202,
    0.026827722787857056,
    0.06849713623523712,
    0.046756770461797714,
    -0.03464468941092491,
    -0.0034140804782509804,
    0.06469902396202087,
    -0.04123252257704735,
    -0.02131534367799759,
    -0.02110835537314415,
    0.02397165633738041,
    0.0016827875515446067,
    0.09710463881492615,
    -0.10895431041717529,
    -0.07877127826213837,
    0.009572615846991539,
    -0.014704295434057713,
    -0.03465627506375313,
    0.021271424368023872,
    -0.039024002850055695,
    -0.04167800769209862,
    0.0012940863380208611,
    0.0494801327586174,
    -0.041784826666116714,
    0.0670316219329834,
    -0.03769325464963913,
    -0.04974395036697388,
    0.045985978096723557
  ],
  "text": "Fixed the empty contacts redirect issue in OpenVine. \n\n**Problem**: Users with no kind 3 contacts (no following list) were being taken to the Home feed by default, which would be empty. They should be redirected to Explore instead.\n\n**Root cause**: The existing redirect logic in `app_router.dart` checked `socialState.isInitialized` before deciding whether to redirect, but the social provider hadn't initialized yet when the redirect fired during app startup.\n\n**Solution**: Changed the redirect to check SharedPreferences cache directly for any `following_list_*` keys with non-empty content, rather than relying on the Riverpod provider state. This is more reliable because:\n1. SharedPreferences is synchronous to read (once getInstance is called)\n2. The cache persists across app restarts\n3. No dependency on provider initialization timing\n\n**Files changed**:\n- `lib/router/app_router.dart`: Added `hasAnyFollowingInCache()` function and `resetNavigationState()` for tests\n- `test/router/empty_contacts_redirect_test.dart`: New test file with 7 unit tests\n\n**Key learnings**:\n- Router redirects need to be self-contained and not rely on provider initialization timing\n- SharedPreferences cache is the most reliable source for quick checks during navigation\n- The existing router tests were broken due to Firebase initialization issues (pre-existing issue, not related to this change)",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1764039893626,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-11-24/21-04-53-626583.md"
}